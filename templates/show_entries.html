{% extends "layout.html" %}
{% block body %}
  <form action="{{ url_for('add_entry') }}" method="post" class="add-entry">
    <dl>
      <dt>Title:
      <dd><input type="text" size="30" name="title" placeholder="Title">
      <dt>Text:
      <dd><textarea name="text" rows="5" cols="40" placeholder="Text"></textarea>
      <dt>Category:
      <dd><input name="category" type="text" size="30" placeholder="Category"></dd>

      <dd><input type="submit" value="Share">
    </dl>
  </form>
    <aside>
        <h1>Filter Category</h1>

        <form action="{{ url_for('show_selected') }}" method="post" name="selected-category">

                <select name="selected_category">
                    <option disabled selected>Category</option>
                    {% for category in categories %}
                        <option name="show_selected" value="{{ category }}">{{ category }}</option>
                    {% endfor %}
                    <option value="all" >All</option>
                </select>

            <button type="submit" >Filter</button>
        </form>

    </aside>
  <ul class="entries">
  {% for entry in entries %}
    <li><h2>{{ entry.title }}</h2> <h2 id="category">{{ entry.category }}</h2>{{ entry.text|safe }}</li>
      <form action="{{ url_for('delete_entry') }}" name="deleted_post" method="post">
          <input type="hidden" name="deleted_post" value="{{ entry.id }}">
          <button type="submit">Delete Post</button>

      </form>
      <form action="{{ url_for('edit_entry') }}" name="updated_post" method="post">
          <input type="hidden" name="old_title" value="{{ entry.title }}">
          <input type="hidden" name="old_category" value="{{ entry.category }}">
          <input type="hidden" name="old_text" value="{{ entry.text}}">
          <input type="hidden" name="id" value="{{ entry.id}}">

          <button type="submit">Edit Post</button>

      </form>








  {% else %}
    <li><em>Unbelievable.  No entries here so far</em></li>
  {% endfor %}
  </ul>
{% endblock %}
